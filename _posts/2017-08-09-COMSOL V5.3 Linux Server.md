---
layout: single
author_profile: false
---

Installation
```bash
scp jingchao@crane.unl.edu:/work/swanson/jingchao/COMSOL53_dvd.iso ./
mkdir /mnt/comsol
mount -o loop /home/centos/COMSOL53_dvd.iso /mnt/comsol
cd /usr/local/comsol53/server/bin/
./comsol server -silent -login never
```

Problem: VM run out of entropy
```bash
cat /proc/sys/kernel/random/entropy_avail
13
```

Solution
```bash
yum install epel-release -y
yum install haveged -y
systemctl start haveged
systemctl status haveged
systemctl enable haveged
```

Open web browser, enter address localhost:2036 (default server port)

Start secondary server
```bash
yum groupinstall "Development Tools" -y
mkdir -p /util/opt/
mount -t nfs4 10.71.105.253:/util/opt/ /util/opt/
cd /util/opt/comsol53/server/bin
#comsol secondary servers need to run in foreground
./comsol server -secondary -primaryserveruri ws://10.71.105.253:2036 -user comsoladmin -serviceport 2036
#use screen to solve the foreground issue
yum install screen -y
screen
./comsol server -secondary -primaryserveruri ws://10.71.105.253:2036 -user comsoladmin -serviceport 2036
#To detach
Ctrl+a, d
#To resume
screen -r
#To exit
exit
```
